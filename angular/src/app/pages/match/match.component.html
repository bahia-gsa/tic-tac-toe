<div class="match-container">

  <button class="goback-button" (click)="backToHall()">Go back to hall</button>

  <div class="score-container">
    <div class="score-panel" *ngFor="let player of listPlayers">
      <p>{{player.name}}</p>
      <p>{{player.score}}</p>
    </div>
  </div> 


  <div class="button-container">
    <button class="start-button" *ngIf="whoStarts == '' " (click)="whoBegins()">
      Let's start
    </button>
  </div>

    <div class="wrapper">
        <div class="grid-container">
            <div class="grid-item">
              <button *ngIf="board[0][2] === ''" (click)="mark('1')"></button>
              <div class="mark" *ngIf="board[0][2] != ''">
                <div class="x-o" *ngIf="board[0][2] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[0][1] == ''" (click)="mark('2')"></button>
              <div class="mark" *ngIf="board[0][1] != ''">
                <div class="x-o" *ngIf="board[0][1] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[0][0] == ''" (click)="mark('3')"></button>
              <div class="mark" *ngIf="board[0][0] != ''">
                <div class="x-o" *ngIf="board[0][0] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[1][2] == ''" (click)="mark('4')"></button>
              <div class="mark" *ngIf="board[1][2] != ''">
                <div class="x-o" *ngIf="board[1][2] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[1][1] == ''" (click)="mark('5')"></button>
              <div class="mark" *ngIf="board[1][1] != ''">
                <div class="x-o" *ngIf="board[1][1] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[1][0] == ''" (click)="mark('6')"></button>
              <div class="mark" *ngIf="board[1][0] != ''">
                <div class="x-o" *ngIf="board[1][0] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[2][2] == ''" (click)="mark('7')"></button>
              <div class="mark" *ngIf="board[2][2] != ''">
                <div class="x-o" *ngIf="board[2][2] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[2][1] == ''" (click)="mark('8')"></button>
              <div class="mark" *ngIf="board[2][1] != ''">
                <div class="x-o" *ngIf="board[2][1] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
            <div class="grid-item">
              <button *ngIf="board[2][0] == ''" (click)="mark('9')"></button>
              <div class="mark" *ngIf="board[2][0] != ''">
                <div class="x-o" *ngIf="board[2][0] == playerName; else otherPlayer">
                  X
                </div>
              </div>
            </div>
        </div>
    </div>
  
    <h3 *ngIf="winner != ''; then winnerTemplate else noWinnerTemplate"></h3>

    <ng-template #winnerTemplate>
      <h3 *ngIf="winner != 'draw'; else drawTemplate">{{winner}} had this one !!</h3>
    </ng-template>
    
    <ng-template #drawTemplate>
      <h3>It's a draw!</h3>
    </ng-template>
    
    <ng-template #noWinnerTemplate></ng-template>
    
    <div class="turn-wrapper">
      <span *ngIf="whoStarts != '' ">
        Who's turn?
      </span>
      <p *ngIf="whoStarts != '' ">
        {{myTurn ? playerName : getOtherPlayerName()}}
      </p>
    </div>

    <app-footer></app-footer>

</div>

<ng-template #otherPlayer>
  <div class="x-o">O</div>
</ng-template>

